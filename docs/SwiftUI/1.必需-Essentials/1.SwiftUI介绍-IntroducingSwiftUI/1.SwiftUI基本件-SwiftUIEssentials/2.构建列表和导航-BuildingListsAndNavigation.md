# 构建列表和导航-BuildingListsAndNavigation

在设置了基本的地标详细视图后，您需要提供一种方式让用户查看完整的地标列表，并查看每个位置的详细信息。

您将创建可以显示任何地标信息的视图，并动态生成一个滚动列表，用户可以点击该列表查看某个地标的详细视图。为了对用户界面进行微调，您将使用Xcode的画布在不同的设备尺寸下呈现多个预览。

下载项目文件开始构建这个项目，并按照以下步骤进行。

> With the basic landmark detail view set up, you need to provide a way for users to see the full list of landmarks, and to view the details about each location.

> You’ll create views that can show information about any landmark, and dynamically generate a scrolling list that a user can tap to see a detail view for a landmark. To fine-tune the UI, you’ll use Xcode’s canvas to render multiple previews at different device sizes.

> Download the project files to begin building this project, and follow the steps below.

[项目文件下载](https://docs-assets.developer.apple.com/published/f021500afcdf6c3930549f1ffeb65e7e/120/BuildingListsAndNavigation.zip)



## 了解简单数据-Get to Know the Sample Data

在第一篇教程中，你将信息硬编码到所有的自定义视图中。在这里，您将学习如何将数据传递到您的自定义视图中进行显示。

下载入门项目并熟悉样本数据，即可开始学习。

> In the first tutorial, you hard-coded information into all of your custom views. Here, you’ll learn to pass data into your custom views for display.

> Get started by downloading the starter project and familiarizing yourself with the sample data.


- 第一步

在项目导航器中，选择**Models**>`Landmark.swift`。

`Landmark.swift`声明一个`Landmark`结构，该结构存储了应用程序需要显示的所有地标信息，并从`landmarkData.json`导入一个地标数据数组。

- 第二步

在项目导航器中，选择**Resources**>`landmarkData.json`。

您将在本教程的其余部分以及后续的所有内容中使用这个样本数据。

- 第三步

请注意，`创建并组合视图`这一节中的 `ContentView `现在被命名为 `LandmarkDetail`。

在本教程和下面的每个教程中，您将创建更多的视图类型。


> Step 1

> In the Project navigator, choose**Models**>`Landmark.swift`.

> `Landmark.swift`declares a`Landmark`structure that stores all of the landmark information the app needs to display, and imports an array of landmark data from`landmarkData.json`.

> Step 2

> In the Project navigator, choose**Resources**>`landmarkData.json`.

> You’ll use this sample data throughout the remainder of this tutorial, and for all that follow.

> Step 3

> Note that the`ContentView`type from[Creating and Combining Views](doc://com.apple.documentation/tutorials/swiftui/creating-and-combining-views)is now named`LandmarkDetail`.

> You’ll create several more view types in this and each of the following tutorials.

## 创建行视图-Create the Row View
在本教程中，您将构建的第一个视图是一个用于显示每个地标详细信息的行。这个行视图将信息存储在它所显示的地标的属性中，因此一个视图可以显示任何地标。稍后，您将把多个行组合成一个地标列表。

> The first view you’ll build in this tutorial is a row for displaying details about each landmark. This row view stores information in a property for the landmark it displays, so that one view can display any landmark. Later, you’ll combine multiple rows into a list of landmarks.


- 第一步

创建一个新的SwiftUI视图，命名为`LandmarkRow.swift`。

- 第二步

如果预览还不可见，选择 **Editor > Canvas**，然后点击**Resume**来显示画布。

- 第三步

添加`landmark`作为`LandmarkRow`的一个存储属性。

当你添加`landmark`属性时，预览停止工作，因为`LandmarkRow`类型在初始化时需要一个地标实例。

为了修复预览，你需要修改预览提供者。

- 第四步

在 `LandmarkRow_Previews` 的 `previews` static属性中，将landmark参数添加到 `LandmarkRow` initializer中，指定`landmarkData`数组的第一个元素。

预览显示的是文字，**Hello World**。

固定后，您就可以为该行建立布局了。

- 第五步

将现有的文本视图嵌入到`HStack`中。

- 第六步

修改文本视图，使用 `landmark `属性的 `name`。

- 第七步

在文本视图前添加图像，在文本视图后添加spacer，从而完成行。

> Step 1

> Create a new SwiftUI view, named`LandmarkRow.swift`.

> Step 2

> If the preview isn’t visible already, show the canvas by selecting**Editor > Canvas**, and then click**Resume**.

> Step 3

> Add`landmark`as a stored property of`LandmarkRow`.

> When you add the`landmark`property, the preview stops working, because the`LandmarkRow`type needs a landmark instance during initialization.

> To fix the preview, you’ll need to modify the preview provider.

> Step 4

> In the`previews`static property of`LandmarkRow_Previews`, add the landmark parameter to the`LandmarkRow`initializer, specifying the first element of the`landmarkData`array.

> The preview displays the text,**Hello World**.

> With that fixed, you can build the layout for the row.

> Step 5

> Embed the existing text view in an`HStack`.

> Step 6

> Modify the text view to use the`landmark`property’s`name`.

> Step 7

> Complete the row by adding an image before the text view, and a spacer after it.