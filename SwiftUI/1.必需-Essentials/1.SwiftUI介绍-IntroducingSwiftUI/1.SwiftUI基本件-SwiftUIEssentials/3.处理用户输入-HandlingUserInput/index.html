
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.2">
    
    
      
        <title>处理用户输入-HandlingUserInput - My Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.73f7c429.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#-handlinguserinput" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../../../.." title="My Docs" class="md-header-nav__button md-logo" aria-label="My Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              处理用户输入-HandlingUserInput
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="My Docs" class="md-nav__button md-logo" aria-label="My Docs">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    My Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href="../../../../.." class="md-nav__link">
      apple文档翻译计划
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../../../../../instruction/" class="md-nav__link">
      说明
    </a>
  </li>

    
      
      
      



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
    
    <label class="md-nav__link" for="nav-3">
      Swift
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Swift" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Swift
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../../Swift/0.swift%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E/" class="md-nav__link">
      swift文档说明
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2" >
    
    <label class="md-nav__link" for="nav-3-2">
      1.标准库 StandardLibrary
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.标准库 StandardLibrary" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        <span class="md-nav__icon md-icon"></span>
        1.标准库 StandardLibrary
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2-1" type="checkbox" id="nav-3-2-1" >
    
    <label class="md-nav__link" for="nav-3-2-1">
      1.整数 Int
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.整数 Int" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-1">
        <span class="md-nav__icon md-icon"></span>
        1.整数 Int
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../../Swift/1.%E6%A0%87%E5%87%86%E5%BA%93-StandardLibrary/1.%E6%95%B4%E6%95%B0-Int/1.%E6%95%B4%E6%95%B0-Int/" class="md-nav__link">
      1.整数-Int
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2-2" type="checkbox" id="nav-3-2-2" >
    
    <label class="md-nav__link" for="nav-3-2-2">
      2.浮点数 Double
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="2.浮点数 Double" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-2">
        <span class="md-nav__icon md-icon"></span>
        2.浮点数 Double
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../../Swift/1.%E6%A0%87%E5%87%86%E5%BA%93-StandardLibrary/2.%E6%B5%AE%E7%82%B9%E6%95%B0-Double/2.%E6%B5%AE%E7%82%B9%E6%95%B0-Double/" class="md-nav__link">
      浮点数-Double
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2-3" type="checkbox" id="nav-3-2-3" >
    
    <label class="md-nav__link" for="nav-3-2-3">
      3.字符串 String
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="3.字符串 String" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-3">
        <span class="md-nav__icon md-icon"></span>
        3.字符串 String
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../../Swift/1.%E6%A0%87%E5%87%86%E5%BA%93-StandardLibrary/3.%E5%AD%97%E7%AC%A6%E4%B8%B2-String/3.%E5%AD%97%E7%AC%A6%E4%B8%B2-String/" class="md-nav__link">
      字符串-String
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2-4" type="checkbox" id="nav-3-2-4" >
    
    <label class="md-nav__link" for="nav-3-2-4">
      4.数组 Array
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="4.数组 Array" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-4">
        <span class="md-nav__icon md-icon"></span>
        4.数组 Array
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../../Swift/1.%E6%A0%87%E5%87%86%E5%BA%93-StandardLibrary/4.%E6%95%B0%E7%BB%84-Array/4.%E6%95%B0%E7%BB%84-Array/" class="md-nav__link">
      数组-Array
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2-5" type="checkbox" id="nav-3-2-5" >
    
    <label class="md-nav__link" for="nav-3-2-5">
      5.字典 Dictionary
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="5.字典 Dictionary" data-md-level="3">
      <label class="md-nav__title" for="nav-3-2-5">
        <span class="md-nav__icon md-icon"></span>
        5.字典 Dictionary
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../../Swift/1.%E6%A0%87%E5%87%86%E5%BA%93-StandardLibrary/5.%E5%AD%97%E5%85%B8-Dictionary/5.%E5%AD%97%E5%85%B8-Dictionary/" class="md-nav__link">
      字典-Dictionary.md
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3" >
    
    <label class="md-nav__link" for="nav-3-3">
      2.数据模型 DataModeling
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="2.数据模型 DataModeling" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        <span class="md-nav__icon md-icon"></span>
        2.数据模型 DataModeling
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../../Swift/2.%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-DataModeling/1.%E7%BB%93%E6%9E%84%E4%BD%93%E5%92%8C%E7%B1%BB%E7%9A%84%E9%80%89%E6%8B%A9-ChoosingBetweenStructuresAndClasses/" class="md-nav__link">
      结构体和类的选择-Choosing Between Structures and Classes
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../../Swift/2.%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B-DataModeling/2.%E9%87%87%E7%94%A8%E5%85%B1%E5%90%8C%E5%8D%8F%E8%AE%AE-AdoptingCommonProtocols/" class="md-nav__link">
      采用共同协议-AdoptingCommonProtocols
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      SwiftUI
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="SwiftUI" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        SwiftUI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../0.swift%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E/" class="md-nav__link">
      swift文档说明
    </a>
  </li>

        
          
          
          


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2" checked>
    
    <label class="md-nav__link" for="nav-4-2">
      1.必需 Essentials
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.必需 Essentials" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        <span class="md-nav__icon md-icon"></span>
        1.必需 Essentials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2-1" type="checkbox" id="nav-4-2-1" checked>
    
    <label class="md-nav__link" for="nav-4-2-1">
      1.SwiftUI介绍 IntroducingSwiftUI
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.SwiftUI介绍 IntroducingSwiftUI" data-md-level="3">
      <label class="md-nav__title" for="nav-4-2-1">
        <span class="md-nav__icon md-icon"></span>
        1.SwiftUI介绍 IntroducingSwiftUI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  


  
  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2-1-1" type="checkbox" id="nav-4-2-1-1" checked>
    
    <label class="md-nav__link" for="nav-4-2-1-1">
      1.SwiftUI基本件 SwiftUIEssentials
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.SwiftUI基本件 SwiftUIEssentials" data-md-level="4">
      <label class="md-nav__title" for="nav-4-2-1-1">
        <span class="md-nav__icon md-icon"></span>
        1.SwiftUI基本件 SwiftUIEssentials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../1.%E5%88%9B%E5%BB%BA%E5%B9%B6%E7%BB%84%E5%90%88%E8%A7%86%E5%9B%BE-CreatingAndCombiningViews/" class="md-nav__link">
      创建并组合视图-CreatingAndCombiningViews
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../2.%E6%9E%84%E5%BB%BA%E5%88%97%E8%A1%A8%E5%92%8C%E5%AF%BC%E8%88%AA-BuildingListsAndNavigation/" class="md-nav__link">
      构建列表和导航-BuildingListsAndNavigation
    </a>
  </li>

        
          
          
          


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        处理用户输入-HandlingUserInput
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      处理用户输入-HandlingUserInput
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mark-the-users-favorite-landmarks" class="md-nav__link">
    Mark the User’s Favorite Landmarks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter-the-list-view" class="md-nav__link">
    Filter the List View
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-a-control-to-toggle-the-state" class="md-nav__link">
    Add a Control to Toggle the State
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-an-observable-object-for-storage" class="md-nav__link">
    Use an Observable Object for Storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adopt-the-model-object-in-your-views" class="md-nav__link">
    Adopt the Model Object in Your Views
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-favorite-button-for-each-landmark" class="md-nav__link">
    Create a Favorite Button for Each Landmark
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2-1-2" type="checkbox" id="nav-4-2-1-2" >
    
    <label class="md-nav__link" for="nav-4-2-1-2">
      4.框架集成 FrameworkIntegration
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="4.框架集成 FrameworkIntegration" data-md-level="4">
      <label class="md-nav__title" for="nav-4-2-1-2">
        <span class="md-nav__icon md-icon"></span>
        4.框架集成 FrameworkIntegration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../4.%E6%A1%86%E6%9E%B6%E9%9B%86%E6%88%90-FrameworkIntegration/1.%E7%BB%93%E5%90%88UIKit-InterfacingWithUIKit/" class="md-nav__link">
      结合UIKit-InterfacingWithUIKit
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2-2" type="checkbox" id="nav-4-2-2" >
    
    <label class="md-nav__link" for="nav-4-2-2">
      2.APP结构和行为 App Structure and Behavior
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="2.APP结构和行为 App Structure and Behavior" data-md-level="3">
      <label class="md-nav__title" for="nav-4-2-2">
        <span class="md-nav__icon md-icon"></span>
        2.APP结构和行为 App Structure and Behavior
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../2.APP%E7%BB%93%E6%9E%84%E5%92%8C%E8%A1%8C%E4%B8%BA-App%20Structure%20and%20Behavior/0.APP%E7%BB%93%E6%9E%84%E5%92%8C%E8%A1%8C%E4%B8%BA-App%20Structure%20and%20Behavior/" class="md-nav__link">
      0.APP结构和行为-App Structure and Behavior
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2-2-2" type="checkbox" id="nav-4-2-2-2" >
    
    <label class="md-nav__link" for="nav-4-2-2-2">
      1.必需 Essentials
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.必需 Essentials" data-md-level="4">
      <label class="md-nav__title" for="nav-4-2-2-2">
        <span class="md-nav__icon md-icon"></span>
        1.必需 Essentials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../2.APP%E7%BB%93%E6%9E%84%E5%92%8C%E8%A1%8C%E4%B8%BA-App%20Structure%20and%20Behavior/1.%E5%BF%85%E9%9C%80-Essentials/1.App/" class="md-nav__link">
      App
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3" >
    
    <label class="md-nav__link" for="nav-4-3">
      4.在Xcode中预览 PreviewsInXcode
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="4.在Xcode中预览 PreviewsInXcode" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        <span class="md-nav__icon md-icon"></span>
        4.在Xcode中预览 PreviewsInXcode
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3-1" type="checkbox" id="nav-4-3-1" >
    
    <label class="md-nav__link" for="nav-4-3-1">
      1.预览 Previews
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.预览 Previews" data-md-level="3">
      <label class="md-nav__title" for="nav-4-3-1">
        <span class="md-nav__icon md-icon"></span>
        1.预览 Previews
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../4.%E5%9C%A8Xcode%E4%B8%AD%E9%A2%84%E8%A7%88-PreviewsInXcode/1.%E9%A2%84%E8%A7%88-Previews/0.%E9%A2%84%E8%A7%88-Previews/" class="md-nav__link">
      0.预览 Previews
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3-1-2" type="checkbox" id="nav-4-3-1-2" >
    
    <label class="md-nav__link" for="nav-4-3-1-2">
      1.创建预览 PreviewCreation
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.创建预览 PreviewCreation" data-md-level="4">
      <label class="md-nav__title" for="nav-4-3-1-2">
        <span class="md-nav__icon md-icon"></span>
        1.创建预览 PreviewCreation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3-1-2-1" type="checkbox" id="nav-4-3-1-2-1" >
    
    <label class="md-nav__link" for="nav-4-3-1-2-1">
      1.预览提供者 PreviewProvider
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.预览提供者 PreviewProvider" data-md-level="5">
      <label class="md-nav__title" for="nav-4-3-1-2-1">
        <span class="md-nav__icon md-icon"></span>
        1.预览提供者 PreviewProvider
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../4.%E5%9C%A8Xcode%E4%B8%AD%E9%A2%84%E8%A7%88-PreviewsInXcode/1.%E9%A2%84%E8%A7%88-Previews/1.%E5%88%9B%E5%BB%BA%E9%A2%84%E8%A7%88-PreviewCreation/1.%E9%A2%84%E8%A7%88%E6%8F%90%E4%BE%9B%E8%80%85-PreviewProvider/0.%E9%A2%84%E8%A7%88%E6%8F%90%E4%BE%9B%E8%80%85-PreviewProvider/" class="md-nav__link">
      预览提供者-PreviewProvider
    </a>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3-1-2-1-2" type="checkbox" id="nav-4-3-1-2-1-2" >
    
    <label class="md-nav__link" for="nav-4-3-1-2-1-2">
      1.设置类型 SettingTheType
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="1.设置类型 SettingTheType" data-md-level="6">
      <label class="md-nav__title" for="nav-4-3-1-2-1-2">
        <span class="md-nav__icon md-icon"></span>
        1.设置类型 SettingTheType
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../4.%E5%9C%A8Xcode%E4%B8%AD%E9%A2%84%E8%A7%88-PreviewsInXcode/1.%E9%A2%84%E8%A7%88-Previews/1.%E5%88%9B%E5%BB%BA%E9%A2%84%E8%A7%88-PreviewCreation/1.%E9%A2%84%E8%A7%88%E6%8F%90%E4%BE%9B%E8%80%85-PreviewProvider/1.%E8%AE%BE%E7%BD%AE%E7%B1%BB%E5%9E%8B-SettingTheType/1.Previews/" class="md-nav__link">
      1.Previews
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          



  
  <li class="md-nav__item md-nav__item--nested">
    
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3-1-2-1-3" type="checkbox" id="nav-4-3-1-2-1-3" >
    
    <label class="md-nav__link" for="nav-4-3-1-2-1-3">
      2.生成预览者 GeneratingPreviews
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="2.生成预览者 GeneratingPreviews" data-md-level="6">
      <label class="md-nav__title" for="nav-4-3-1-2-1-3">
        <span class="md-nav__icon md-icon"></span>
        2.生成预览者 GeneratingPreviews
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../4.%E5%9C%A8Xcode%E4%B8%AD%E9%A2%84%E8%A7%88-PreviewsInXcode/1.%E9%A2%84%E8%A7%88-Previews/1.%E5%88%9B%E5%BB%BA%E9%A2%84%E8%A7%88-PreviewCreation/1.%E9%A2%84%E8%A7%88%E6%8F%90%E4%BE%9B%E8%80%85-PreviewProvider/2.%E7%94%9F%E6%88%90%E9%A2%84%E8%A7%88%E8%80%85-GeneratingPreviews/1.platform/" class="md-nav__link">
      1.platform
    </a>
  </li>

        
          
          
          



  <li class="md-nav__item">
    <a href="../../../../4.%E5%9C%A8Xcode%E4%B8%AD%E9%A2%84%E8%A7%88-PreviewsInXcode/1.%E9%A2%84%E8%A7%88-Previews/1.%E5%88%9B%E5%BB%BA%E9%A2%84%E8%A7%88-PreviewCreation/1.%E9%A2%84%E8%A7%88%E6%8F%90%E4%BE%9B%E8%80%85-PreviewProvider/2.%E7%94%9F%E6%88%90%E9%A2%84%E8%A7%88%E8%80%85-GeneratingPreviews/2.previews/" class="md-nav__link">
      2.previews
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#mark-the-users-favorite-landmarks" class="md-nav__link">
    Mark the User’s Favorite Landmarks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#filter-the-list-view" class="md-nav__link">
    Filter the List View
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-a-control-to-toggle-the-state" class="md-nav__link">
    Add a Control to Toggle the State
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-an-observable-object-for-storage" class="md-nav__link">
    Use an Observable Object for Storage
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adopt-the-model-object-in-your-views" class="md-nav__link">
    Adopt the Model Object in Your Views
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-favorite-button-for-each-landmark" class="md-nav__link">
    Create a Favorite Button for Each Landmark
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="-handlinguserinput">处理用户输入-HandlingUserInput</h1>
<p>在地标APP中，用户可以标记他们喜欢的地方，</p>
<blockquote>
<p>In the Landmarks app, a user can flag their favorite places, and filter the list to show just their favorites. To create this feature, you’ll start by adding a switch to the list so users can focus on just their favorites, and then you’ll add a star-shaped button that a user taps to flag a landmark as a favorite.
Download the starter project and follow along with this tutorial, or open the finished project and explore the code on your own.</p>
</blockquote>
<p><a href="https://docs-assets.developer.apple.com/published/d68f7f7caeb0db1ecdf2292224a91c77/120/HandlingUserInput.zip">工程文件下载</a></p>
<h2 id="mark-the-users-favorite-landmarks">Mark the User’s Favorite Landmarks</h2>
<p>Begin by enhancing the list to show users their favorites at a glance. Add a star to each<code>LandmarkRow</code>that shows a favorite landmark.</p>
<p>Step 1</p>
<p>Open the starting point Xcode project, and then select<code>LandmarkRow.swift</code>in the Project navigator.</p>
<p>Step 2</p>
<p>After the spacer, add a star image inside an<code>if</code>statement to test whether the current landmark is a favorite.</p>
<p>In SwiftUI blocks, you use<code>if</code>statements to conditionally include views.</p>
<p>Step 3</p>
<p>Because system images are vector based, you can change their color with the<code>foregroundColor(_:)</code>modifier.</p>
<p>The star is present whenever a landmark’s<code>isFavorite</code>property is<code>true</code>. You’ll see how to modify that property later in this tutorial.</p>
<h2 id="filter-the-list-view">Filter the List View</h2>
<p>You can customize the list view so that it shows all of the landmarks, or just the user’s favorites. To do this, you’ll need to add a bit of_state_to the<code>LandmarkList</code>type.</p>
<p><em>State</em> is a value, or a set of values, that can change over time, and that affects a view’s behavior, content, or layout. You use a property with the<code>@State</code>attribute to add state to a view.</p>
<p>Step 1</p>
<p>Select<code>LandmarkList.swift</code>in the Project navigator. Add a<code>@State</code>property called<code>showFavoritesOnly</code>to<code>LandmarkList</code>, with its initial value set to<code>false</code>.</p>
<p>Step 2</p>
<p>Refresh the canvas by clicking the<strong>Resume</strong>button.</p>
<p>When you make changes to your view’s structure, like adding or modifying a property, you need to manually refresh the canvas.</p>
<p>Step 3</p>
<p>Filter the list of landmarks by checking the<code>showFavoritesOnly</code>property and each<code>landmark.isFavorite</code>value.</p>
<h2 id="add-a-control-to-toggle-the-state">Add a Control to Toggle the State</h2>
<p>To give the user control over the list’s filter, you need to add a control that can alter the value of<code>showFavoritesOnly</code>. You do this by passing a binding to a toggle control.</p>
<p>A <em>binding</em> acts as a reference to a mutable state. When a user taps the toggle from off to on, and off again, the control uses the binding to update the view’s state accordingly.</p>
<p>Step 1</p>
<p>Create a nested<code>ForEach</code>group to transform the landmarks into rows.</p>
<p>To combine static and dynamic views in a list, or to combine two or more different groups of dynamic views, use the<code>ForEach</code>type instead of passing your collection of data to<code>List</code>.</p>
<p>Step 2</p>
<p>Add a<code>Toggle</code>view as the first child of the<code>List</code>view, passing a binding to<code>showFavoritesOnly</code>.</p>
<p>You use the<code>$</code>prefix to access a binding to a state variable, or one of its properties.</p>
<p>Step 3</p>
<p>Use the live preview and try out this new functionality by tapping the toggle.</p>
<h2 id="use-an-observable-object-for-storage">Use an Observable Object for Storage</h2>
<p>To prepare for the user to control which particular landmarks are favorites, you’ll first store the landmark data in an_observable object._</p>
<p>An observable object is a custom object for your data that can be bound to a view from storage in SwiftUI’s environment. SwiftUI watches for any changes to observable objects that could affect a view, and displays the correct version of the view after a change.</p>
<p>Step 1</p>
<p>Create a new Swift file named<code>UserData.swift</code>.</p>
<p>Step 2</p>
<p>Declare a new model type that conforms to the<code>ObservableObject</code>protocol from the Combine framework.</p>
<p>SwiftUI subscribes to your observable object, and updates any views that need refreshing when the data changes.</p>
<p>Step 3</p>
<p>Add stored properties for<code>showFavoritesOnly</code>and<code>landmarks</code>, along with their initial values.</p>
<p>An observable object needs to publish any changes to its data, so that its subscribers can pick up the change.</p>
<p>Step 4</p>
<p>Add the<code>@Published</code>attribute to each property in the model.</p>
<h2 id="adopt-the-model-object-in-your-views">Adopt the Model Object in Your Views</h2>
<p>Now that you’ve created the<code>UserData</code>object, you need to update your views to adopt it as the data store for your app.</p>
<p>Step 1</p>
<p>In<code>LandmarkList.swift</code>, replace the<code>showFavoritesOnly</code>declaration with an<code>@EnvironmentObject</code>property, and add an<code>environmentObject(_:)</code>modifier to the preview.</p>
<p>This<code>userData</code>property gets its value automatically, as long as the<code>environmentObject(_:)</code>modifier has been applied to a parent.</p>
<p>Step 2</p>
<p>Replace the uses of<code>showFavoritesOnly</code>by accessing the same property on<code>userData</code>.</p>
<p>Just like on<code>@State</code>properties, you can access a binding to a member of the<code>userData</code>object by using the<code>$</code>prefix.</p>
<p>Step 3</p>
<p>Use<code>userData.landmarks</code>as the data when creating the<code>ForEach</code>instance.</p>
<p>Step 4</p>
<p>In<code>SceneDelegate.swift</code>, add the<code>environmentObject(_:)</code>modifier to the<code>LandmarkList</code>.</p>
<p>If you build and run Landmarks in the simulator or on a device, rather than using the preview, this update ensures that<code>LandmarkList</code>has a<code>UserData</code>object in the environment.</p>
<p>Step 5</p>
<p>Update the<code>LandmarkDetail</code>view to work with the<code>UserData</code>object in the environment.</p>
<p>You’ll use<code>landmarkIndex</code>when accessing or updating the landmark’s favorite status, so that you’re always accessing the correct version of that data.</p>
<p>Step 6</p>
<p>Switch back to<code>LandmarkList.swift</code>and turn on the live preview to verify that everything is working as it should be.</p>
<h2 id="create-a-favorite-button-for-each-landmark">Create a Favorite Button for Each Landmark</h2>
<p>The Landmarks app can now switch between a filtered and unfiltered view of the landmarks, but the list of favorite landmarks is still hard coded. To allow the user to add and remove favorites, you need to add a favorite button to the landmark detail view.</p>
<p>Step 1</p>
<p>In<code>LandmarkDetail.swift</code>, embed the landmark’s name in an<code>HStack</code>.</p>
<p>Step 2</p>
<p>Create a new button next to the landmark’s name. Use an<code>if</code>-<code>else</code>conditional statement to provide different images that indicate whether the landmark is a favorite.</p>
<p>In the button’s<code>action</code>closure, the code uses<code>landmarkIndex</code>with the<code>userData</code>object to update the landmark in place.</p>
<p>Step 3</p>
<p>Switch back to<code>LandmarkList.swift</code>, and turn on the live preview.</p>
<p>As you navigate from the list to the detail and tap the button, those changes persist when you return to the list. Because both views are accessing the same model object in the environment, the two views maintain consistency.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../2.%E6%9E%84%E5%BB%BA%E5%88%97%E8%A1%A8%E5%92%8C%E5%AF%BC%E8%88%AA-BuildingListsAndNavigation/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                构建列表和导航-BuildingListsAndNavigation
              </div>
            </div>
          </a>
        
        
          <a href="../../4.%E6%A1%86%E6%9E%B6%E9%9B%86%E6%88%90-FrameworkIntegration/1.%E7%BB%93%E5%90%88UIKit-InterfacingWithUIKit/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                结合UIKit-InterfacingWithUIKit
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../../assets/javascripts/vendor.08c56446.min.js"></script>
      <script src="../../../../../assets/javascripts/bundle.6ced434e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../../../../..",
          features: [],
          search: Object.assign({
            worker: "../../../../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>